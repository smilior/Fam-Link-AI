# コネクト・ファミリー・ハブ (Fam-Link-AI) 企画書

> **プロジェクト名:** コネクト・ファミリー・ハブ (Fam-Link-AI)
> **作成日:** 2026-02-21
> **ステータス:** ドラフト（たたき台）
> **概要:** 4人家族専用の共有カレンダー＆コミュニケーションアプリ。AI入力支援とゲーミフィケーションで、家族の時間を最大化する。同一DBを家族全員で共有し、画面更新で最新情報を反映するシンプルな設計。

---

## 目次

1. [企画の背景と目的](#1-企画の背景と目的)
2. [ターゲットとパーソナライズ](#2-ターゲットとパーソナライズ)
3. [メイン機能](#3-メイン機能双方向コミュニケーションカレンダー)
4. [サブ機能（AI連携）](#4-サブ機能スクールライフサポートai連携)
5. [ゲーミフィケーション](#5-ゲーミフィケーション楽しみと継続)
6. [サイト構成案（画面構成）](#6-サイト構成案画面構成)
7. [技術スタック](#7-技術スタック)
8. [フェーズ計画（リリースロードマップ）](#8-フェーズ計画リリースロードマップ)

---

## 1. 企画の背景と目的

### 1.1 背景（なぜ必要か）

共働きや学校行事など、4人家族それぞれの予定が複雑に絡み合い、「言った・言わない」のトラブルや共有漏れが日常的に発生しやすい。既存のカレンダーアプリでは、予定の「見える化」はできても、家族間のリアルタイムな連携やコミュニケーションまではカバーできていない。

### 1.2 目的（何を解決するか）

スケジュールを「見える化」するだけでなく、**PUSH通知による連携**と**AIによる入力支援**により、家族の時間を最大化する。予定の共有を起点に、相談・確認・感謝といった家族のコミュニケーション全体をサポートする。

### 1.3 基本方針

- **広告なし** — 家族のプライベート空間を守る
- **プライバシー重視** — 完全個人・家族専用アプリとして運用
- **シンプルで直感的** — 子供から大人まで、全員が迷わず使える

---

## 2. ターゲットとパーソナライズ

家族それぞれの役割に合わせた操作性と、直感的なカラーコーディングを採用する。

| メンバー | パーソナルカラー | 役割と活用シーン |
|---------|:---:|------------|
| パパ | 🔵 ブルー | 仕事・会食の共有、AI登録の最終確認、送迎の相互通知 |
| ママ | 🩷 ピンク | 家庭行事の管理、プリントスキャン、ToDoの割り振り |
| 娘 | 🟡 イエロー | 学校行事、習い事、部活の予定管理 |
| 息子 | 🟢 グリーン | 塾、テスト期間、趣味のイベント管理 |

各メンバーのカラーはカレンダー上の予定ラベル、アバター、通知バッジに一貫して適用し、一目で「誰の予定か」を識別できるようにする。

---

## 3. メイン機能：双方向コミュニケーション・カレンダー

予定の共有だけでなく、その予定を軸にした**「相談と通知」**を核とする。家族全員が同一DBを参照するため、画面更新で常に最新の状態を確認できる。

### 3.1 共有カレンダー

- 月間・週間・日別の3ビュー切替
- 4人のカラーコーディングによる一覧表示
- 同一DBを参照し、画面更新（ページ遷移・リロード）で最新の予定を反映
- フィルタ機能（特定メンバーの予定のみ表示）

### 3.2 プッシュ通知（定時配信）

Lolipopサーバーから定時にVercel上の通知APIを叩き、PWAプッシュ通知を配信する。

- **配信スケジュール:** 1日4回（7:00 / 12:00 / 15:00 / 18:00）
- **通知内容:** 当日・翌日の予定リマインダー、未確認の予定変更、ToDo期限のお知らせ等
- **仕組み:** Lolipopサーバー（Cron）→ Vercel API Route → Web Push API でメンバーへ配信
- VercelにはCron機能がないため、外部のLolipopサーバーから定期的にAPIを叩く構成

### 3.3 イベント別チャット

- 各予定にチャットスレッドが紐づく
- 詳細な相談をその場で完結（「今日の送迎何時？」「持ち物持った？」）
- 画像やファイルの共有にも対応

### 3.4 共有ToDoリスト

- 買い出し・旅行準備などをリスト化
- 担当者アサインと期限設定
- 誰かが完了させると「お疲れ様！」とPUSH通知が届く

### 3.5 スタンプ・ありがとう通知

- 「サンクス通知」などのスタンプ通知機能
- 家族間の感謝や確認をワンタップで伝える
- リアクションスタンプの種類を用意（ありがとう、了解、がんばれ 等）

---

## 4. サブ機能：スクール・ライフ・サポート（AI連携）

スケジュール管理を強力に支援する、利便性を追求したサブ機能群。

### 4.1 AIプリントスキャン（OCR → 構造化 → カレンダー登録）

学校のお便りをスマホで撮影すると、AIが自動で解析しカレンダーに登録する。

```
撮影 → OpenAI（画像入力 → OCR＋構造化抽出） → カレンダー下書き登録
```

- **ステップ1:** スマホカメラでお便りを撮影
- **ステップ2:** OpenAIのマルチモーダルモデル（GPT-4o等）に画像を送信し、OCRと構造化抽出（日時・イベント名・持ち物・場所）を一括処理
- **ステップ3:** カレンダーへ下書き登録（親が確認後に確定）

### 4.2 学校書類アーカイブ

- お便りの原本画像を予定に紐づけて保存
- 出先でも「あのプリントに何て書いてあったっけ？」を即座に解消
- 学校別・日付別にフォルダ整理

### 4.3 学校スケジュールハブ

- 娘・息子それぞれの年間行事をストック
- 時間割・給食の献立表を一元管理
- 一目で家族の「学校生活」を把握できる専用ページ

---

## 5. ゲーミフィケーション（楽しみと継続）

家族が自発的に、かつ楽しく使い続けるための設計。

### 5.1 目標設定（ゴール機能）

- 「家族の予定を完璧に把握し、週末を楽しむ」という共通ゴールを設定
- 週間・月間の達成度を可視化
- 家族全員で共有する目標と、個人の目標を両方サポート

### 5.2 リワード・フィードバック

- 予定の完了やAI登録の確定時に、アニメーションで即座にフィードバック
- 特別なステッカー（スタンプ）やバッジの獲得
- 連続利用や目標達成に応じた段階的リワード

### 5.3 ストーリー・アルバム機能

- カレンダーに写真やコメントが蓄積される
- わが家の「歴史のアルバム」として成長していく世界観
- 月次・年次の振り返りサマリー自動生成

---

## 6. サイト構成案（画面構成）

### 画面一覧

| 画面 | コンテンツ | UI概要 |
|-----|----------|-------|
| **メインボード** | 4人の色分けカレンダー | 4色のカラーラベルが並ぶ月間・週間ビュー |
| **AIスキャナー** | お便りスキャン、解析フロー | スマホで書類を撮り、AIが文字を抽出するステップUI |
| **通知センター** | 家族からのメッセージ、到着通知 | 「パパが駅に着きました」等の通知一覧 |
| **学校・ToDoハブ** | 学校別アーカイブ、買い物リスト | 子供たちのアイコン付きフォルダとチェックリスト |
| **イベント詳細** | 予定の詳細、チャット、添付ファイル | イベント情報＋チャットスレッド |
| **ゴール・リワード** | 目標設定、達成度、バッジ一覧 | プログレスバーとバッジコレクション |
| **アルバム** | 月別の写真・思い出 | タイムラインレイアウト |
| **設定** | プロフィール、通知設定、家族管理 | シンプルなフォームUI |

### 画面遷移の概要

```
ホーム（メインボード）
├── カレンダー月間/週間/日別ビュー
│   └── イベント詳細 → チャット / 添付ファイル
├── AIスキャナー → 撮影 → 解析結果 → カレンダー登録
├── 通知センター → 個別通知 → 該当イベント
├── 学校・ToDoハブ
│   ├── 学校別アーカイブ → 書類詳細
│   └── ToDoリスト → 担当者・期限設定
├── ゴール・リワード → バッジ詳細
├── アルバム → 月別表示 → 写真詳細
└── 設定 → プロフィール / 通知設定 / 家族管理
```

---

## 7. 技術スタック

### 技術選定一覧

| カテゴリ | 技術 | 選定理由 |
|---------|------|---------|
| フロントエンド | Next.js (App Router) + TypeScript | SSR対応、PWA化が容易 |
| スタイリング | Tailwind CSS | 高速なUI開発、レスポンシブ対応 |
| PWA | next-pwa | プッシュ通知・オフライン対応 |
| バックエンド | Next.js API Routes / Server Actions | フロントと統一した開発体験 |
| DB | Turso (libSQL) | SQLiteベースのエッジDB、軽量・高速、埋め込みレプリカ対応 |
| 認証 | Better Auth (Google認証) | Next.js対応、Google OAuth連携が容易 |
| AI/OCR | OpenAI (GPT-4o等) | 画像入力対応モデルでOCR＋構造化抽出を一括処理 |
| プッシュ通知 | Web Push API | PWAネイティブ通知 |
| Cron（定時通知） | Lolipopサーバー | Vercelに Cron機能がないため外部から定時にAPI呼出 |
| ホスティング | Vercel + Lolipop | アプリ本体はVercel、定時バッチはLolipop |
| ストレージ | Turso DB内（バイナリ保存） | 画像をDB内にBLOBとして保存、別途ストレージ不要 |
| 状態管理 | Zustand | 軽量クライアント状態管理 |
| アニメーション | Framer Motion | ゲーミフィケーション演出 |

### 主な設計判断

- **PWA（ネイティブアプリではない）** — 4人家族専用なのでPWAで十分。開発コスト大幅削減。App Store審査も不要で迅速にリリース可能。
- **Turso** — SQLiteベースの軽量DB。家族全員が同一DBを参照し、画面更新で最新データを反映するシンプルな構成。画像もDB内にBLOB保存することで外部ストレージ不要。
- **Better Auth + Google認証** — Google OAuthで家族全員がワンタップログイン。パスワード管理不要で利便性が高い。
- **OpenAI一括処理** — GPT-4o等のマルチモーダルモデルで画像入力からOCR＋構造化抽出を1ステップで処理。パイプラインがシンプル。
- **Lolipop Cron + Vercel API** — VercelにCron機能がないため、Lolipopサーバーから1日4回（7:00/12:00/15:00/18:00）通知用APIを叩く構成。既存サーバー資産を活用しコスト増なし。

---

## 8. フェーズ計画（リリースロードマップ）

### Phase 1: MVP（4〜6週間）

最小限の機能で家族の予定共有を実現する。

- ユーザー認証（Better Auth / Google認証）
- 家族グループの作成・招待
- 共有カレンダー（CRUD、月間/週間/日別表示）
- カラーコーディング（4人分）
- プッシュ通知（Lolipop Cron → Vercel API → Web Push、1日4回定時配信）
- PWA対応（ホーム画面追加、オフライン基本対応）

**ゴール:** 家族4人が日常的に予定を共有・確認できる状態

### Phase 2: v1.0（MVP後 6〜8週間）

コミュニケーション機能とAI連携を追加し、本格運用を開始する。

- イベント別チャット
- 共有ToDoリスト（担当者アサイン、完了通知）
- スタンプ・ありがとう通知
- AIプリントスキャン（OpenAIで画像→構造化→カレンダー登録）
- 学校書類アーカイブ
- 学校スケジュールハブ（年間行事、時間割）

**ゴール:** 学校のお便りから予定登録までをAIで自動化し、日常の運用負荷を大幅に削減

### Phase 3: v2.0（v1.0後 8〜12週間）

ゲーミフィケーションと振り返り機能で、長期的な利用定着を図る。

- ゲーミフィケーション（ゴール設定、リワード、バッジ）
- ストーリー・アルバム機能（写真蓄積、振り返りサマリー）
- AI予定提案（過去の傾向から予定を提案）
- 高度な通知（位置情報連動、コンテキスト通知）
- パフォーマンス最適化・UX改善

**ゴール:** 家族全員が「楽しいから使い続ける」状態を実現
